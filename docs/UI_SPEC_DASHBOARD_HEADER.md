# ТЗ: UI/UX — роли, хедер, дропдаун, кабинеты аффилиата и поставщика

Документ описывает требования к интерфейсу: роли и доступ, состояния хедера, дропдаун пользователя, кабинеты аффилиата и поставщика, общие UX‑требования и процесс выгрузки в Git.

---

## 1. Роли и доступ

Система поддерживает два типа пользователей:

- **Аффилиат (CPA-партнёр)** — работает с офферами, трафиком и выплатами.
- **Поставщик (рекламодатель)** — создаёт и управляет офферами, бюджетами и лидами.

Один пользователь может иметь только одну роль: либо Аффилиат, либо Поставщик; одновременное наличие двух ролей запрещено.

Роль выбирается при регистрации или назначается администратором и не может быть изменена через интерфейс личного кабинета.

---

## 2. Состояния хедера (header)

### 2.1. Неавторизованный пользователь

В правой части хедера отображаются только кнопки:

- **«Войти»** (вторичная кнопка, контур/прозрачный фон).
- **«Регистрация»** (основная кнопка, акцентный цвет).

Кнопки «Профиль», «Выход», email пользователя, бейдж роли не отображаются.

При успешной авторизации кнопки «Войти» и «Регистрация» скрываются, хедер переключается в состояние авторизованного пользователя.

### 2.2. Авторизованный пользователь (общие требования)

В хедере слева направо: логотип, главное меню (Главная, Офферы, Аналитика, Выплаты, Поддержка и т.д.), справа — блок пользователя.

Блок пользователя состоит из:

- компактного бейджа роли: «Аффилиат» или «Поставщик»;
- имени или короткого логина пользователя;
- аватара/иконки профиля;
- иконки выпадающего меню (стрелка/chevron).

В интерфейсе нет отдельных разрозненных ссылок «Профиль», «Выход», «Партнёр» и прочего — все действия с аккаунтом доступны только через дропдаун блока пользователя.

---

## 3. Дропдаун пользователя

При клике на блок пользователя открывается дропдаун со следующими пунктами (одинаковая структура для обеих ролей):

- **«Профиль»** — страница профиля текущей роли.
- **«Настройки»** — общие настройки аккаунта (email, пароль, язык, часовой пояс).
- разделительная линия.
- **«Выйти»** — завершение сессии (пункт всегда внизу, выделен опасным цветом).

Пунктов вида «Переключиться в …» нет, переключение ролей в интерфейсе не предусмотрено.

После выбора «Выйти» пользователь перенаправляется на главную страницу с кнопками «Войти» и «Регистрация».

---

## 4. Кабинет аффилиата (CPA Affiliate)

### 4.1. Хедер

В блоке пользователя бейдж роли: **«Аффилиат»**.

Главное меню включает: «Главная», «Каталог офферов», «Мои подключения», «Аналитика», «Выплаты», «Поддержка» (наименования можно уточнить продуктово).

### 4.2. Главная страница (дашборд)

Заголовок страницы: **«Кабинет партнёра»**.

Первый экран содержит:

- карточки-метрики: «Заработано», «Подключённых офферов», «Лидов за период», «Конверсия»;
- справа — основной CTA: кнопка **«Найти офферы»** (акцентная, одна на экран);
- ниже — блок «Подключиться к офферам»: список карточек с краткой информацией об офферах и кнопкой «Подключиться».

Все элементы по вертикали выровнены по базовой сетке (например, 8 px step), избыточные тексты сведены к 1–2 строкам описания.

### 4.3. Профиль аффилиата

Доступен из пункта «Профиль» в дропдауне пользователя.

Содержит: персональные данные (имя, фамилия, никнейм); контактные данные (email, мессенджер); реквизиты для выплат; информацию о трафик-источниках, вертикалях. Формы разбиты на логичные секции, валидация inline.

---

## 5. Кабинет поставщика (Supplier / Рекламодатель)

### 5.1. Хедер

В блоке пользователя бейдж роли: **«Поставщик»**.

Главное меню включает: «Главная», «Мои офферы», «Лиды», «Аналитика», «Бюджеты/Финансы», «Поддержка».

### 5.2. Главная страница (дашборд)

Заголовок страницы: **«Кабинет поставщика»**.

Первый экран содержит карточки-метрики: «Активных офферов», «Лидов за период», «Бюджет израсходован», «Конверсия / ROI». Основной CTA — **«Создать оффер»** или **«Добавить оффер»**; остальные кнопки — менее заметный приоритет.

### 5.3. Профиль поставщика

Доступен из пункта «Профиль» в дропдауне. Содержит: юридические данные компании; платёжные реквизиты; настройки бренда; настройки команды и доступов (если предусмотрено). Структура и стиль унифицированы с профилем аффилиата.

---

## 6. Общие UX‑требования

- В любой момент времени на экране не более одного основного CTA; остальные действия — вторичные кнопки или текстовые ссылки.
- Все интерактивные элементы имеют состояния hover/active/focus, кликабельные зоны не менее 44×44 px.
- В текстах хедера избегать длинных фраз — только короткое имя и бейдж роли.
- Отступы и выравнивание: единая сетка (например, 8 px), выравнивание по вертикали элементов хедера и карточек метрик.

---

## 7. Доступ к офферам и экран «Оффер не найден»

### Неавторизованный пользователь (гость)

- Каталог офферов и детальные страницы офферов **недоступны**.
- При попытке перейти на оффер (или по прямой ссылке) отображается карточка с текстом **«Оффер недоступен»** и основной CTA‑кнопкой **«Войти для подключения»**.
- Все аккордеоны с подробной информацией (Общая информация, Ставки, Условия, Требования к источникам трафика и т.д.) отображаются в свернутом состоянии и при клике показывают модальное окно/инлайновый блок с текстом **«Доступно после входа в кабинет партнёра»** и кнопкой **«Войти»**.

### Авторизованный пользователь (аффилиат)

- Каталог офферов, детальные страницы и все секции оффера доступны для просмотра.
- На детальной карточке оффера: доступны все аккордеоны; основной CTA — **«Подключиться к офферу»** (если ещё не подключён) или **«Перейти к подключению»** (если уже есть статус подключения).
- Текст **«Оффер не найден»** используется только для реально несуществующих/отключённых офферов (404/архив), а не для случая «не авторизован».

### Авторизованный поставщик

- Имеет доступ только к своим офферам в разделе «Мои офферы»; просмотр партнёрского каталога в режиме аффилиата недоступен.
- При попытке открыть партнёрскую страницу оффера по прямой ссылке показывается информация в режиме поставщика (статусы, бюджеты и т.п.) или сообщение об отсутствии прав доступа.

### Поведение CTA‑кнопок

- Если гость — одна основная кнопка **«Войти для подключения»**.
- Если авторизованный аффилиат — одна основная кнопка **«Подключиться к офферу»** (или эквивалент в зависимости от статуса).
- Никаких дублирующих кнопок с разными действиями на одном уровне иерархии.

---

## 8. Требования к реализации и выгрузке в Git

- Реализация UI/UX в соответствии с данным ТЗ оформляется отдельной веткой (например, `feature/new-header-dashboard`).
- В репозитории создан файл документации: `docs/UI_SPEC_DASHBOARD_HEADER.md` (данный файл).
- После реализации разработчик обязан:
  - проверить соответствие интерфейса описанным состояниям (неавторизованный, аффилиат, поставщик);
  - приложить скриншоты состояний к PR;
  - сослаться на файл ТЗ в описании PR.
- Изменения отправляются в Git через стандартный процесс: коммиты с понятными сообщениями, merge через pull request после ревью.
